{"version":3,"file":"background.bundle.js","mappings":"AAAAA,OAAOC,QAAQC,YAAYC,aAAY,WAErCH,OAAOI,UAAUC,iBAAiB,CAAEC,wBAAwB,GAC9D,IAGAN,OAAOO,OAAOC,UAAUL,aAAY,SAACM,GAEnCT,OAAOU,KAAKC,YAAYF,EAAIG,GAAI,CAAEL,OAAQ,kBAE1CP,OAAOI,UAAUS,KAAK,CAAEC,SAAUL,EAAIK,WAAW,OAAO,SAACC,GACvDC,QAAQC,MAAM,4BAA6BF,EAC7C,GACF,IAGAf,OAAOU,KAAKQ,UAAUf,aAAY,SAACgB,EAAOC,EAAYX,GAChDA,EAAIY,KAAOZ,EAAIY,IAAIC,WAAW,yBAEhCtB,OAAOI,UAAUmB,WAAW,CAC1BJ,MAAAA,EACAK,KAAM,iBACNC,SAAS,IAIXzB,OAAOI,UAAUmB,WAAW,CAC1BJ,MAAAA,EACAM,SAAS,GAGf","sources":["webpack://chajian2.0/./src/background/background.js"],"sourcesContent":["chrome.runtime.onInstalled.addListener(() => {\r\n  // 设置侧边栏行为为点击扩展图标时打开侧边栏\r\n  chrome.sidePanel.setPanelBehavior({ openPanelOnActionClick: true });\r\n});\r\n\r\n// 监听浏览器图标点击事件\r\nchrome.action.onClicked.addListener((tab) => {\r\n  // 发送消息到当前激活的标签页，通知 contentScript.js 切换侧边栏的显示状态\r\n  chrome.tabs.sendMessage(tab.id, { action: 'toggleSidebar' });\r\n  // 切换侧边栏显示状态\r\n  chrome.sidePanel.open({ windowId: tab.windowId }).catch((err) => {\r\n    console.error('Error opening side panel:', err);\r\n  });\r\n});\r\n\r\n// 根据特定条件在特定网站启用侧边栏\r\nchrome.tabs.onUpdated.addListener((tabId, changeInfo, tab) => {\r\n  if (tab.url && tab.url.startsWith(\"http://ojo.bnu.edu.cn\")) {\r\n    // 当页面加载完成时，启用侧边栏\r\n    chrome.sidePanel.setOptions({\r\n      tabId,\r\n      path: 'sidepanel.html',\r\n      enabled: true\r\n    });\r\n  } else {\r\n    // 对其他页面禁用侧边栏\r\n    chrome.sidePanel.setOptions({\r\n      tabId,\r\n      enabled: false\r\n    });\r\n  }\r\n});\r\n"],"names":["chrome","runtime","onInstalled","addListener","sidePanel","setPanelBehavior","openPanelOnActionClick","action","onClicked","tab","tabs","sendMessage","id","open","windowId","err","console","error","onUpdated","tabId","changeInfo","url","startsWith","setOptions","path","enabled"],"sourceRoot":""}