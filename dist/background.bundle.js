(()=>{function e(e){console.log("Filling text box with: ",e);var t=document.querySelector("#chat-input");t?(console.log("Text box found. Filling with selected text:",e),t.value=e):console.error("Chat input text area not found!")}chrome.action.onClicked.addListener((function(e){chrome.tabs.sendMessage(e.id,{action:"toggleSidebar"},(function(e){chrome.runtime.lastError?console.error(chrome.runtime.lastError.message):console.log("Message sent: toggleSidebar")}))})),chrome.runtime.onMessage.addListener((function(t,o,r){if(console.log("Received message in background: ",t.text),"fillTextBox"===t.action)return chrome.tabs.query({active:!0,currentWindow:!0},(function(o){console.log("Executing script to fill text box on tab:",o[0].id),chrome.scripting.executeScript({target:{tabId:o[0].id},function:e,args:[t.text]},(function(){chrome.runtime.lastError?console.error("Error executing script:",chrome.runtime.lastError.message):console.log("Text passed to sidebar: ",t.text),r({status:"success"})}))})),!0}))})();