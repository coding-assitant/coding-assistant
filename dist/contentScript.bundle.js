/*! For license information please see contentScript.bundle.js.LICENSE.txt */
(()=>{"use strict";var e={340:(e,t,n)=>{n.d(t,{A:()=>c});var r=n(601),o=n.n(r),i=n(314),a=n.n(i)()(o());a.push([e.id,"/* �������ʽ */\n.sidebar-container {\n  font-family: Arial, sans-serif;\n  display: flex;\n  flex-direction: column;\n  background-color: #f5f7fa;\n  box-shadow: -2px 0 8px rgba(0, 0, 0, 0.1);\n  transition: background-color 0.3s, color 0.3s;\n  border-radius: 10px;\n  padding: 10px;\n}\n\n/* �ϱ�����ʽ */\n.sidebar-title-bar {\n  background-color: #007bff;\n  color: white;\n  padding: 10px 15px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  border-radius: 10px 10px 0 0;\n  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);\n  font-size: 1.5em;  /* �������� */\n  position: relative;\n}\n\n/* ͼ��������ʽ */\n.icon-container {\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n  gap: 8px; /* ��Сͼ��֮��ļ�� */\n  margin-left: auto; /* ��ͼ�����������ƶ� */\n}\n\n/* �̶���ʶ����ʽ */\n.pin-icon, .close-icon, .more-icon {\n  cursor: pointer;\n  background-color: transparent;\n  border: none;\n  color: white;\n  font-size: 1.5em;\n  display: flex;\n  align-items: center;\n}\n\n/* ͼ��hoverЧ�� */\n.pin-icon:hover, .close-icon:hover, .more-icon:hover {\n  opacity: 0.8;\n}\n\n/* �������ͼ�� */\n.title-icon {\n  margin-right: 8px; /* ����ͼ������ֵļ�� */\n}\n\n/* �����˵���ʽ */\n.dropdown-menu {\n  position: absolute;\n  top: 55px;\n  right: 10px;\n  background-color: white;\n  border: 1px solid #ddd;\n  border-radius: 5px;\n  display: none;\n  flex-direction: column;\n  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\n  z-index: 1000;\n}\n\n.dropdown-menu.active {\n  display: flex;\n}\n\n.dropdown-item {\n  padding: 10px;\n  font-size: 1em;\n  color: #007bff;\n  text-align: left;\n  border-bottom: 1px solid #ddd;\n  cursor: pointer;\n}\n\n.dropdown-item:last-child {\n  border-bottom: none;\n}\n\n.dropdown-item:hover {\n  background-color: #f1f1f1;\n}\n\n/* �����¼���� */\n.chat-history {\n  display: flex;\n  flex-direction: column;  /* �����ݴ�ֱ���� */\n  flex-grow: 1;\n  overflow-y: auto;\n  padding: 20px;\n  background-color: #ffffff;\n  transition: background-color 0.3s;\n  border-radius: 0 0 10px 10px;\n}\n\n.welcome-message {\n  color: #777;\n  text-align: center;\n  font-size: 1.2em;\n  margin-bottom: 20px;\n}\n\n/* ����������ʽ */\n.chat-bubble {\n  padding: 20px;\n  margin-bottom: 15px;\n  border-radius: 10px;\n  max-width: 100%;\n  opacity: 0;\n  animation: fadeIn 0.3s forwards;\n  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);\n  position: relative;  \n}\n\n@keyframes fadeIn {\n  from {\n    opacity: 0;\n    transform: translateY(10px);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n\n.user-bubble {\n  background-color: #007bff;\n  color: white;\n  align-self: flex-end;  /* �����ڸ������Ҳ� */\n  text-align: left;  /* �ı������ */\n  margin-left: auto;  /* ȷ�����ݿ��� */\n  max-width: 100%;  /* ����������Ϊ100% */\n  min-width: 50%;  /* ��ѡ����С���ȣ��������Ϣ̫խ */\n  white-space: pre-wrap;  /* �����û�����Ļ��У���Ҫʱ���� */\n  word-wrap: break-word;  /* ȷ�������ʻ��� */\n  display: inline-block;  /* ʹ���ݿ��ȸ������ݶ�̬�仯 */\n  padding: 15px 15px;  /* �������ݵ��ڱ߾� */\n  border-radius: 10px;  /* ���ݵ�Բ��Ч�� */\n  position: relative;  /* Ϊʱ����ṩ��λ������ */\n  overflow: visible;  /* ȷ�����ݲ����ü� */\n}\n\n.model-bubble {\n  background-color: #f1f1f1;\n  color: #333;\n  align-self: flex-start;\n  text-align: left;\n  margin-right: auto;\n  min-width: 60%;\n  white-space: pre-wrap;\n  word-wrap: break-word;\n  display: inline-block;\n  padding: 15px 15px;\n  border-radius: 10px;\n  position: relative;\n  overflow: visible;  /* ȷ�����ݲ����ü� */\n}\n\n/* ��������� */\n.chat-input-container {\n  display: flex;\n  padding: 10px;\n  background-color: #f1f1f1;\n  border-top: 1px solid #ddd;\n  transition: background-color 0.3s;\n  border-radius: 10px;\n  box-shadow: 0 -2px 5px rgba(0, 0, 0, 0.1);\n}\n\n.chat-input {\n  flex-grow: 1;\n  padding: 12px;\n  border-radius: 20px;\n  border: 1px solid #ccc;\n  transition: background-color 0.3s, color 0.3s;\n  font-size: 1em;\n  resize: none;  /* ��ֹ textarea ���ֶ�������С */\n}\n\n.send-button {\n  background-color: #007bff;\n  color: white;\n  border: none;\n  border-radius: 20px;\n  padding: 12px;\n  margin-left: 10px;\n  cursor: pointer;\n  font-size: 1.1em;\n  transition: background-color 0.2s;\n}\n\n.send-button:hover {\n  background-color: #0056b3;\n}\n\n/* ʱ�����ʽ */\n.timestamp {\n  font-size: 0.75em;\n  color: #888;\n  position: absolute;\n  bottom: 0.5px;  /* �̶������ݵĵײ� */\n  right: 5px;  /* ���Ҷ��� */\n}\n",""]);const c=a},314:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,o,i){"string"==typeof e&&(e=[[null,e,void 0]]);var a={};if(r)for(var c=0;c<this.length;c++){var l=this[c][0];null!=l&&(a[l]=!0)}for(var s=0;s<e.length;s++){var d=[].concat(e[s]);r&&a[d[0]]||(void 0!==i&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=i),n&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=n):d[2]=n),o&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=o):d[4]="".concat(o)),t.push(d))}},t}},601:e=>{e.exports=function(e){return e[1]}},72:e=>{var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var i={},a=[],c=0;c<e.length;c++){var l=e[c],s=r.base?l[0]+r.base:l[0],d=i[s]||0,u="".concat(s," ").concat(d);i[s]=d+1;var p=n(u),f={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==p)t[p].references++,t[p].updater(f);else{var h=o(f,r);r.byIndex=c,t.splice(c,0,{identifier:u,updater:h,references:1})}a.push(u)}return a}function o(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,o){var i=r(e=e||[],o=o||{});return function(e){e=e||[];for(var a=0;a<i.length;a++){var c=n(i[a]);t[c].references--}for(var l=r(e,o),s=0;s<i.length;s++){var d=n(i[s]);0===t[d].references&&(t[d].updater(),t.splice(d,1))}i=l}}},659:e=>{var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},159:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},56:(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},825:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var o=void 0!==n.layer;o&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,o&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var i=n.sourceMap;i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},113:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={id:r,exports:{}};return e[r](i,i.exports,n),i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.nc=void 0;var r=n(72),o=n.n(r),i=n(825),a=n.n(i),c=n(659),l=n.n(c),s=n(56),d=n.n(s),u=n(159),p=n.n(u),f=n(113),h=n.n(f),m=n(340),v={};function g(e){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g(e)}v.styleTagTransform=h(),v.setAttributes=d(),v.insert=l().bind(null,"head"),v.domAPI=a(),v.insertStyleElement=p(),o()(m.A,v),m.A&&m.A.locals&&m.A.locals;var y=["onMessage"];function b(){b=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function d(e,t,n,r){var i=t&&t.prototype instanceof y?t:y,a=Object.create(i.prototype),c=new O(r||[]);return o(a,"_invoke",{value:H(e,n,c)}),a}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=d;var p="suspendedStart",f="suspendedYield",h="executing",m="completed",v={};function y(){}function x(){}function w(){}var C={};s(C,a,(function(){return this}));var L=Object.getPrototypeOf,E=L&&L(L(j([])));E&&E!==n&&r.call(E,a)&&(C=E);var k=w.prototype=y.prototype=Object.create(C);function _(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function M(e,t){function n(o,i,a,c){var l=u(e[o],e,i);if("throw"!==l.type){var s=l.arg,d=s.value;return d&&"object"==g(d)&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,a,c)}),(function(e){n("throw",e,a,c)})):t.resolve(d).then((function(e){s.value=e,a(s)}),(function(e){return n("throw",e,a,c)}))}c(l.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function H(t,n,r){var o=p;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===m){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var c=r.delegate;if(c){var l=T(c,r);if(l){if(l===v)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var s=u(t,n,r);if("normal"===s.type){if(o=r.done?m:f,s.arg===v)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(o=m,r.method="throw",r.arg=s.arg)}}}function T(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,T(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var i=u(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function N(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(N,this),this.reset(!0)}function j(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(g(t)+" is not iterable")}return x.prototype=w,o(k,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:x,configurable:!0}),x.displayName=s(w,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===x||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,s(e,l,"GeneratorFunction")),e.prototype=Object.create(k),e},t.awrap=function(e){return{__await:e}},_(M.prototype),s(M.prototype,c,(function(){return this})),t.AsyncIterator=M,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new M(d(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},_(k),s(k,l,"Generator"),s(k,a,(function(){return this})),s(k,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=j,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(S),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return c.type="throw",c.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(l&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;S(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:j(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}function x(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function w(e,t,n,r,o,i,a){try{var c=e[i](a),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,o)}function C(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){w(i,r,o,a,c,"next",e)}function c(e){w(i,r,o,a,c,"throw",e)}a(void 0)}))}}function L(e){var t="";return{feed:function(n){t+=n;for(var r=0;r<t.length;){var o=t.indexOf("\n",r);if(-1===o)break;var i=t.slice(r,o);r=o+1,i.startsWith("data: ")&&e({type:"event",data:i.slice(6)})}t=t.slice(r)}}}function E(e,t){return k.apply(this,arguments)}function k(){return k=C(b().mark((function e(t,n){var r,o,i,a,c,l,s,d,u,p;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.onMessage,o=x(n,y),e.next=3,fetch(t,o);case 3:if((i=e.sent).ok){e.next=9;break}return e.next=7,i.json().catch((function(){return{}}));case 7:throw e.sent,new Error("Error: ".concat(i.status," - ").concat(i.statusText));case 9:a=L((function(e){if("event"===e.type){if("[DONE]"===e.data)return;r(e.data)}})),c=i.body.getReader(),l=new TextDecoder,s=!1;case 13:if(s){e.next=23;break}return e.next=16,c.read();case 16:d=e.sent,u=d.value,p=d.done,s=p,u&&a.feed(l.decode(u)),e.next=13;break;case 23:case"end":return e.stop()}}),e)}))),k.apply(this,arguments)}document.addEventListener("mouseup",(function(e){var t=window.getSelection().toString();t&&M(e.pageX,e.pageY,t)}));var _=new IntersectionObserver((function(e){e.forEach((function(e){if(e.isIntersecting){var t=e.target,n=t.getBoundingClientRect();M(window.scrollX+n.right-100,window.scrollY+n.top,t.textContent.trim()),_.unobserve(t)}}))}),{threshold:.1});function M(e,t,n){var r=document.getElementById("custom-selected-icon");r&&r.remove();var o=document.createElement("div");o.id="custom-selected-icon",o.innerHTML='<svg width="45" height="45" viewBox="0 0 45 45" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <g filter="url(#filter0_d_414_83)">\n    <rect x="2.68396" y="0.971924" width="40" height="40" rx="16.5199" fill="#F9F9F9"/>\n    <rect x="3.18396" y="1.47192" width="39" height="39" rx="16.0199" stroke="url(#paint0_linear_414_83)"/>\n    </g>\n    <path fill-rule="evenodd" clip-rule="evenodd" d="M14.4798 21.3462C14.4798 16.5446 18.3903 12.648 23.2195 12.648C25.5808 12.648 27.7217 13.579 29.2948 15.0932L30.2459 14.1067C28.4272 12.356 25.9489 11.2782 23.2195 11.2782C17.6379 11.2782 13.1089 15.7834 13.1089 21.3462L14.4798 21.3462Z" fill="#FF3E80"/>\n    <path fill-rule="evenodd" clip-rule="evenodd" d="M17.2568 21.3462C17.2568 17.9685 19.9848 15.2244 23.3573 15.2244C25.0014 15.2244 26.4919 15.8761 27.5891 16.9367L28.5321 15.9432C27.1906 14.6465 25.3658 13.8487 23.3573 13.8487C19.2384 13.8487 15.8935 17.2022 15.8935 21.3462L17.2568 21.3462Z" fill="#FFC300"/>\n    <path fill-rule="evenodd" clip-rule="evenodd" d="M19.8508 21.3462C19.8508 19.509 21.3409 18.0196 23.179 18.0196C24.055 18.0196 24.8506 18.357 25.4454 18.9102L26.39 17.8954C25.5488 17.113 24.4191 16.6335 23.179 16.6335C20.575 16.6335 18.4641 18.7434 18.4641 21.3462L19.8508 21.3462Z" fill="#00D4E6"/>\n    <path fill-rule="evenodd" clip-rule="evenodd" d="M19.9116 21.3462C19.9116 23.1496 21.3735 24.6115 23.1769 24.6115C24.9803 24.6115 26.4422 23.1496 26.4422 21.3462L33.2449 21.3462C33.2449 22.0578 33.1711 22.7522 33.0307 23.4221C32.0739 27.9865 28.0257 31.4142 23.1769 31.4142C18.3281 31.4142 14.2799 27.9865 13.3231 23.4221C13.1827 22.7522 13.1089 22.0578 13.1089 21.3462L19.9116 21.3462ZM15.457 23.4221C16.371 26.8296 19.481 29.3383 23.1769 29.3383C26.8728 29.3383 29.9828 26.8296 30.8968 23.4221L28.0997 23.4221C27.2896 25.3408 25.3905 26.6874 23.1769 26.6874C20.9633 26.6874 19.0642 25.3408 18.2541 23.4221L15.457 23.4221Z" fill="#8759F2"/>\n    <defs>\n    <filter id="filter0_d_414_83" x="0.68396" y="0.971924" width="44" height="44" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">\n    <feFlood flood-opacity="0" result="BackgroundImageFix"/>\n    <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>\n    <feOffset dy="2"/>\n    <feGaussianBlur stdDeviation="1"/>\n    <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"/>\n    <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_414_83"/>\n    <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_414_83" result="shape"/>\n    </filter>\n    <linearGradient id="paint0_linear_414_83" x1="22.684" y1="0.971924" x2="22.684" y2="40.9719" gradientUnits="userSpaceOnUse">\n    <stop stop-color="white"/>\n    <stop offset="1" stop-color="white" stop-opacity="0"/>\n    </linearGradient>\n    </defs>\n  </svg>',o.style.position="absolute",o.style.top="".concat(t,"px"),o.style.left="".concat(e,"px"),o.style.cursor="pointer",o.style.zIndex=1e3,o.style.width="100px",o.style.height="100px",o.style.borderRadius="50%",o.style.display="flex",o.style.alignItems="center",o.style.justifyContent="center",o.addEventListener("click",(function(){document.getElementById("custom-sidebar")||(H(),console.log("selectedText1: ",n),chrome.runtime.sendMessage({action:"fillTextBox",text:n},(function(e){chrome.runtime.lastError?console.error("Error sending message:",chrome.runtime.lastError.message):console.log("Message sent, response:",e)}))),document.body.removeChild(o)})),document.body.appendChild(o)}function H(e){var t=document.getElementById("custom-sidebar");if(!t){(t=document.createElement("div")).id="custom-sidebar",t.className="sidebar-container",t.style.position="fixed",t.style.top="0",t.style.right="0",t.style.width="25%",t.style.height="100%",t.style.zIndex="10000",t.style.display="flex",t.style.flexDirection="column";var n=document.createElement("div");n.className="sidebar-title-bar";var r=document.createElement("span");r.innerHTML='\n      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">\n        <path d="M22 12a10 10 0 1 1-10-10"></path>\n      </svg>\n    ',r.className="title-icon";var o=document.createElement("span");o.innerText="oding assistant";var i=document.createElement("div");i.className="icon-container";var a=document.createElement("button");a.innerHTML='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#clip0_406_221)"><path d="M2.12299 24.0004L8.56699 17.5564L13.467 22.4564L14.527 21.3954C15.5718 20.3422 16.3231 19.0342 16.7064 17.6011C17.0897 16.1679 17.0916 14.6595 16.712 13.2254L20.055 9.87138L20.548 10.3654C20.8806 10.7148 21.3258 10.9357 21.8053 10.9891C22.2847 11.0425 22.7676 10.925 23.169 10.6574C23.4041 10.4894 23.5998 10.2724 23.7426 10.0213C23.8854 9.77018 23.9719 9.49101 23.996 9.20314C24.0202 8.91527 23.9815 8.62559 23.8825 8.35418C23.7836 8.08278 23.6268 7.83614 23.423 7.63138L16.455 0.641378C16.1224 0.291951 15.6772 0.0710828 15.1977 0.0176684C14.7183 -0.0357459 14.2353 0.0817191 13.834 0.349378C13.5989 0.517307 13.4032 0.734353 13.2604 0.985465C13.1176 1.23658 13.0311 1.51575 13.0069 1.80362C12.9828 2.09149 13.0215 2.38117 13.1205 2.65257C13.2194 2.92398 13.3762 3.17061 13.58 3.37538L14.139 3.93538L10.789 7.30038L10.725 7.28038C9.29794 6.91063 7.79918 6.91905 6.37637 7.30483C4.95357 7.6906 3.65582 8.44041 2.61099 9.48038L1.54999 10.5374L6.44999 15.4374L-7.62939e-06 21.8774L2.12299 24.0004ZM9.88399 10.1534L11.617 10.7144L16.257 6.06038L17.934 7.74138L13.3 12.3914L13.825 14.0334C14.176 15.3906 13.9935 16.8307 13.315 18.0574L5.94199 10.6864C7.13991 10.0124 8.55011 9.82173 9.88399 10.1534Z" fill="white"/></g><defs><clipPath id="clip0_406_221"><rect width="24" height="24" fill="white"/></clipPath></defs></svg>',a.className="pin-icon",a.addEventListener("click",(function(){console.log("Pin icon clicked")}));var c=document.createElement("button");c.innerHTML='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#clip0_406_170)"><path d="M0 3V11H11V0H3C2.20435 0 1.44129 0.31607 0.87868 0.87868C0.31607 1.44129 0 2.20435 0 3H0ZM3 3H8V8H3V3Z" fill="white"/><path d="M20.9998 0H12.9998V11H23.9998V3C23.9998 2.20435 23.6838 1.44129 23.1212 0.87868C22.5585 0.31607 21.7955 0 20.9998 0V0ZM20.9998 8H15.9998V3H20.9998V8Z" fill="white"/><path d="M0 21C0 21.7956 0.31607 22.5587 0.87868 23.1213C1.44129 23.6839 2.20435 24 3 24H11V13H0V21ZM3 16H8V21H3V16Z" fill="white"/><path d="M12.9998 24H20.9998C21.7955 24 22.5585 23.6839 23.1212 23.1213C23.6838 22.5587 23.9998 21.7956 23.9998 21V13H12.9998V24ZM15.9998 16H20.9998V21H15.9998V16Z" fill="white"/></g><defs><clipPath id="clip0_406_170"><rect width="24" height="24" fill="white"/></clipPath></defs></svg> ',c.className="more-icon",c.addEventListener("click",(function(){document.getElementById("dropdown-menu").classList.toggle("active")}));var l=document.createElement("button");l.innerHTML='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#clip0_405_1484)"><path d="M22.5 6H1.5C1.10218 6 0.720644 5.84196 0.43934 5.56066C0.158035 5.27936 0 4.89782 0 4.5C0 4.10218 0.158035 3.72064 0.43934 3.43934C0.720644 3.15804 1.10218 3 1.5 3H22.5C22.8978 3 23.2794 3.15804 23.5607 3.43934C23.842 3.72064 24 4.10218 24 4.5C24 4.89782 23.842 5.27936 23.5607 5.56066C23.2794 5.84196 22.8978 6 22.5 6Z" fill="white"/><path d="M22.4999 10.9996H9.49988C9.10205 10.9996 8.72052 10.8416 8.43922 10.5603C8.15791 10.279 7.99988 9.89746 7.99988 9.49963C7.99988 9.10181 8.15791 8.72028 8.43922 8.43897C8.72052 8.15767 9.10205 7.99963 9.49988 7.99963H22.4999C22.8977 7.99963 23.2792 8.15767 23.5605 8.43897C23.8418 8.72028 23.9998 9.10181 23.9998 9.49963C23.9998 9.89746 23.8418 10.279 23.5605 10.5603C23.2792 10.8416 22.8977 10.9996 22.4999 10.9996Z" fill="white"/><path d="M22.5 21H1.5C1.10218 21 0.720644 20.842 0.43934 20.5607C0.158035 20.2794 0 19.8978 0 19.5C0 19.1022 0.158035 18.7206 0.43934 18.4393C0.720644 18.158 1.10218 18 1.5 18H22.5C22.8978 18 23.2794 18.158 23.5607 18.4393C23.842 18.7206 24 19.1022 24 19.5C24 19.8978 23.842 20.2794 23.5607 20.5607C23.2794 20.842 22.8978 21 22.5 21Z" fill="white"/><path d="M22.4999 16.0004H9.49988C9.10205 16.0004 8.72052 15.8423 8.43922 15.561C8.15791 15.2797 7.99988 14.8982 7.99988 14.5004C7.99988 14.1025 8.15791 13.721 8.43922 13.4397C8.72052 13.1584 9.10205 13.0004 9.49988 13.0004H22.4999C22.8977 13.0004 23.2792 13.1584 23.5605 13.4397C23.8418 13.721 23.9998 14.1025 23.9998 14.5004C23.9998 14.8982 23.8418 15.2797 23.5605 15.561C23.2792 15.8423 22.8977 16.0004 22.4999 16.0004Z" fill="white"/><path d="M1.707 15.7452L4.681 12.7712C4.88508 12.5665 4.99968 12.2892 4.99968 12.0002C4.99968 11.7111 4.88508 11.4339 4.681 11.2292L1.707 8.25519C1.56709 8.11532 1.38883 8.02009 1.19479 7.98156C1.00074 7.94302 0.799624 7.96291 0.616884 8.0387C0.434143 8.1145 0.27799 8.24279 0.168182 8.40735C0.0583736 8.57192 -0.00015534 8.76535 3.09641e-07 8.96319V15.0372C-0.00015534 15.235 0.0583736 15.4285 0.168182 15.593C0.27799 15.7576 0.434143 15.8859 0.616884 15.9617C0.799624 16.0375 1.00074 16.0574 1.19479 16.0188C1.38883 15.9803 1.56709 15.8851 1.707 15.7452Z" fill="white"/></g><defs><clipPath id="clip0_405_1484"><rect width="24" height="24" fill="white"/></clipPath></defs></svg>',l.className="close-icon",l.addEventListener("click",(function(){document.body.removeChild(t)}));var s=document.createElement("div");s.id="dropdown-menu",s.className="dropdown-menu";var d=document.createElement("div");d.innerText="设置",d.className="dropdown-item";var u=document.createElement("div");u.innerText="历史记录",u.className="dropdown-item";var p=document.createElement("div");p.innerText="收藏夹",p.className="dropdown-item",s.appendChild(d),s.appendChild(u),s.appendChild(p),n.appendChild(r),n.appendChild(o),n.appendChild(i),n.appendChild(a),n.appendChild(c),n.appendChild(l),n.appendChild(s);var f=document.createElement("div");f.id="chat-history",f.className="chat-history",f.innerHTML='<p class="welcome-message">欢迎使用编程小助手</p>';var h=document.createElement("div");h.className="chat-input-container";var m=document.createElement("textarea");m.id="chat-input",m.className="chat-input",m.placeholder="输入消息...",m.addEventListener("keydown",(function(e){if("Enter"===e.key&&!e.shiftKey){e.preventDefault();var t=m.value;""!==t&&(T(t),m.value="")}}));var v=document.createElement("button");v.className="send-button",v.innerHTML='<i class="send-icon">发送</i>',v.addEventListener("click",(function(){var e=m.value;""!==e&&(T(e),m.value="")})),h.appendChild(m),h.appendChild(v),t.appendChild(n),t.appendChild(f),t.appendChild(h),document.body.appendChild(t)}}function T(e){return N.apply(this,arguments)}function N(){return(N=C(b().mark((function e(t){var n,r,o,i,a,c,l,s;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),n=document.getElementById("chat-history"),r=(new Date).toLocaleTimeString(),(o=document.createElement("div")).className="chat-bubble user-bubble",o.textContent=t,(i=document.createElement("span")).className="timestamp",i.textContent=" ".concat(r),o.appendChild(i),n.appendChild(o),n.scrollTop=n.scrollHeight,(a=document.createElement("div")).className="chat-bubble loading-bubble",a.textContent="模型正在思考...",n.appendChild(a),n.scrollTop=n.scrollHeight,e.prev=17,e.next=20,E("https://api.deepseek.com/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer sk-6e6c9fc152524e459bff2f5e4459b145"},body:JSON.stringify({model:"deepseek-chat",messages:[{role:"system",content:"You are a helpful assistant."},{role:"user",content:t}],stream:!0}),onMessage:function(e){a&&a.remove();try{var t=JSON.parse(e);if(t.choices&&t.choices[0]&&t.choices[0].delta){var r=t.choices[0].delta.content||"";c&&"true"!==c.dataset.finished||((c=document.createElement("div")).className="chat-bubble model-bubble",c.dataset.rawContent="",c.dataset.finished="false",n.appendChild(c)),c.dataset.rawContent+=r,c.innerHTML=marked.parse(c.dataset.rawContent.trim()),n.scrollTop=n.scrollHeight}}catch(e){console.error("解析数据时出错：",e)}}});case 20:c&&(c.dataset.finished="true",(l=document.createElement("span")).className="timestamp",l.textContent=" ".concat(r),c.appendChild(l)),e.next=31;break;case 23:e.prev=23,e.t0=e.catch(17),a.remove(),(s=document.createElement("div")).className="chat-bubble error-bubble",s.textContent="错误：无法连接到模型，请稍后再试。",n.appendChild(s),console.error("详细错误信息：",e.t0);case 31:n.scrollTop=n.scrollHeight;case 32:case"end":return e.stop()}}),e,null,[[17,23]])})))).apply(this,arguments)}document.querySelectorAll("pre, code, .example_code").forEach((function(e){_.observe(e)})),chrome.runtime.onMessage.addListener((function(e,t,n){if("toggleSidebar"===e.action){var r=document.getElementById("custom-sidebar");r?document.body.removeChild(r):H()}}))})();